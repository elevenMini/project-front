# 11조 프로젝트

`HTTP` VS `HTTPS`

HTTP 프로토콜의 문제점은 서버에서부터 브라우저로 전송되는 정보가 암호화되지 않는다는 것
즉, 데이터가 쉽게 도난당할 수 있다는 것

HTTPS 프로토콜은 SSL(보안 소켓 계층)을 사용함으로써 이 문제를 해결

SSL은 서버와 브라우저 사이에 안전하게 암호화된 연결을 만들 수 있게 도와주고,
서버 브라우저가 민감한 정보를 주고받을 때 이것이 도난당하는 것을 막아줍니다.

HTTPS는 TLS(전송 계층 보안) 프로토콜을 통해서도 보안을 유지.
TSL은 데이터 무결성을 제공하기 때문에 데이터가 전송 중에 수정되거나 손상되는 것을 방지하고,
사용자가 자신이 의도하는 웹사이트와 통신하고 있음을 입증하는 인증 기능도 제공하고 있습니다.

사실 HTTPS로 전환하게 되면 검색엔진 최적화(SEO)에 있어서도 큰 혜택을 볼 수 있는데요.
AMP(Accelerated Mobile Pages)를 사용할 때도 HTTPS 프로토콜이 사용되어야 한다.

=========================================================================
HTTPS 프로토콜 사용에 있어서 발생한 이슈

- DNS 서비스 이용에 대한 개념 (ROUTE 53)

- 인증기관의 선택 (AWS의 서비스인 ACM, CERTBOT)

  > ACM 사용을 원했으나, 승인 기간이 오래걸림
  > CERTBOT을 사용하여 공개키 발생을 선택(SSL)

- 도메인 구매를 하지 않고 DNS주소로 요청 >> 일반적으로 주어지는 EC2의 변경가능한 DNS 주소를 줘서 인증 오류

  > DNS 주소를 구매를 하고, ROUTE 53에 해당 도메인 주소를 EC2 IP에 연결

- SSL 인증서 발급 받는 방법 중, standalone 방법을 사용해서 진행. 이 경우에는 certbot이 해당 서버를 인증하는 과정에서
  80번 포트를 사용해야하기 때문에, 80번 포트를 통해 이용하는 application이 없어야했다.
  하지만 우리는 무중단 배포를 하고 있어서 서버를 내리고 다시 시작하는 과정에서 어려움을 겪음.

=========================================================================

CICD 구축에 있어서 아쉬운 점

사용 툴 - Github Actions - AWS CodeDeploy - S3 - EC2 - RDS

전반적인 내용
YOUTUBE와 다양한 레버런스를 통해 CICD 구축하는 과정은 어렵지 않음.

아쉬운점
IAM 사용자 등록 / 역할 부여하는 과정에서 어려움을 겪음.
이 부분은 항해 강의와 다양한 레퍼런스를 통해 보완해야 함.

IAM

1. ROOT(회사 계정)
2. 사용자를 만든다.(사원 계정)  
   역할<권한>
3. 해당 IAM 계정을 받은 사람이 접속해서 비밀번호를 알아서 바꿈

======================================================================

새로운 시도 - S3와 RDS를 통한 이미지 파일 업로드

새롭게 알아낸 사실 1. 기존에 텍스트만 주고 받는 FORM DATA 형식과 다르다는 것을 알았다. > form-data : requestbody에 queryString방식과 동일한 형태로 데이터가 들어온다. > multipart/form-data : 파일 데이터가 들어올 수 있다.
파일 데이터의 경우 MultiPartFile class로 file 정보를 받아야 한다.

    2. S3를 이용하기 위해서는 별도의 의존성을 주입 받아야 한다.
    	implementation 'org.springframework.cloud:spring-cloud-starter-aws:2.2.6.RELEASE'

    3. client에게 이미지를 보여주기 위해서는 이미지 파일이 저장된 경로를 알려주어야 하기 때문에,
    	RDS에는 해당 이미지에 대한 경로를 저장하는 방식으로 client와 소통을 한다.
    	이미지 저장이 아닌, 단순히 브라우저에 이미지를 띄우기 위해서는 이미지를 저장할 때
    	metadata의 속성 중, contentDisposition을 inline 값을 주어야 한다.
